# 仮想通貨取引情報可視化ツール

このツールは、仮想通貨取引所（GMO、メルカリ）の取引データを分析・可視化するStreamlitアプリケーションです。

## 機能

- 年ごとまたは全期間の取引データ分析
- コインごとの価格指定による評価額計算
- 元本、取得コイン数、評価額、含み益、平均取得単価の表示
- 期間年ごとの確定利益の計算
- コインの取得枚数、評価額、元本・含み益の推移確認
- 平均取得単価と取得枚数、評価額の動的な可視化

## 環境構築

### 前提条件

- [mise](https://github.com/jdx/mise)がインストールされていること
- [uv](https://github.com/astral-sh/uv)がインストールされていること（0.3.0以上推奨）

### セットアップ手順

1. リポジトリをクローン後、プロジェクトディレクトリに移動

```bash
cd analysis_crypt
```

2. miseでPythonバージョンを設定

```bash
mise install python@3.11
```

3. uvでパッケージをインストールと開発環境のセットアップ

```bash
# 仮想環境の作成
uv venv --python $(mise which python)
source .venv/bin/activate

# 依存関係のインストールとロックファイルの生成
uv sync

```

`uv sync`コマンドにより、`pyproject.toml`に定義された依存関係がインストールされ、`uv.lock`ファイルが生成されます。このロックファイルにより環境の再現性が確保されます。

新しい環境で再現する場合は、既存の`uv.lock`ファイルを使用して、以下のコマンドで同一環境を再現できます：

```bash
uv venv --python $(mise which python)
source .venv/bin/activate
uv sync
```

4. アプリケーションの起動

```bash
streamlit run src/app.py
```

## データについて

`resource`ディレクトリに取引データを配置する必要があります。
- `resource/gmo/`: GMOコインの取引データ
- `resource/mercari/`: メルカリのコイン取引データ

**注意**: `resource`ディレクトリは`.gitignore`に記載されており、個人情報保護のためGit管理対象外です。

## 利用方法

1. アプリケーション起動後、左サイドバーで分析したい年とコインごとの現在価格を入力
2. タブを選択して各種分析結果を閲覧
3. 「チェックポイント記録」ボタンをクリックすると、その時点の評価額等がログとして保存され、推移グラフに反映 